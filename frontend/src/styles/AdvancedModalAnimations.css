/* Advanced Modal Animations */

/* Advanced Timing Functions */
:root {
  --spring-easing: cubic-bezier(0.34, 1.56, 0.64, 1);
  --smooth-out: cubic-bezier(0.33, 1, 0.68, 1);
  --ease-out-back: cubic-bezier(0.34, 1.25, 0.64, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Overlay Animations */
@keyframes advancedFadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }

  to {
    opacity: 1;
    backdrop-filter: blur(8px);
  }
}

@keyframes advancedFadeOut {
  from {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  to {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
}

/* Modal Entrance - Spring Effect */
@keyframes modalSpringIn {
  0% {
    opacity: 0;
    transform: scale(0.8) translateY(30px) rotateX(10deg);
  }

  50% {
    opacity: 1;
    transform: scale(1.02) translateY(-5px) rotateX(-2deg);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateY(0) rotateX(0);
  }
}

/* Modal Exit */
@keyframes modalSlideOut {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }

  to {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
  }
}

/* Icon Bounce Animation */
@keyframes iconBounceIn {
  0% {
    opacity: 0;
    transform: scale(0) rotate(-45deg);
  }

  50% {
    opacity: 1;
    transform: scale(1.2) rotate(5deg);
  }

  70% {
    transform: scale(0.9) rotate(-3deg);
  }

  100% {
    transform: scale(1) rotate(0);
  }
}

/* Content Slide Up with Fade */
@keyframes contentSlideUpFade {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Button Slide In */
@keyframes buttonSlideIn {
  from {
    opacity: 0;
    transform: translateY(15px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Pulse for Critical Actions */
@keyframes attentionPulse {

  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
  }

  50% {
    box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
  }
}

@keyframes successPulse {

  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
  }

  50% {
    box-shadow: 0 0 0 8px rgba(34, 197, 94, 0);
  }
}

/* Shimmer Effect */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }

  100% {
    background-position: 200% center;
  }
}

/* Utility Classes */
.modal-overlay-advanced {
  animation: advancedFadeIn 0.4s var(--smooth-out) forwards;
}

.modal-overlay-advanced.closing {
  animation: advancedFadeOut 0.3s ease-out forwards;
}

.modal-content-advanced {
  perspective: 1000px;
  animation: modalSpringIn 0.5s var(--spring-easing) forwards;
}

.modal-content-advanced.closing {
  animation: modalSlideOut 0.3s ease-out forwards;
}

.modal-icon-advanced {
  animation: iconBounceIn 0.6s var(--ease-bounce) forwards;
  animation-delay: 0.1s;
  opacity: 0;
}

.modal-title-advanced {
  animation: contentSlideUpFade 0.4s var(--smooth-out) forwards;
  animation-delay: 0.2s;
  opacity: 0;
}

.modal-text-advanced {
  animation: contentSlideUpFade 0.4s var(--smooth-out) forwards;
  animation-delay: 0.3s;
  opacity: 0;
}

.modal-buttons-advanced {
  animation: buttonSlideIn 0.4s var(--smooth-out) forwards;
  animation-delay: 0.4s;
  opacity: 0;
}

.modal-button-advanced {
  animation: buttonSlideIn 0.3s var(--smooth-out) forwards;
  opacity: 0;
}

.modal-button-advanced:nth-child(1) {
  animation-delay: 0.45s;
}

.modal-button-advanced:nth-child(2) {
  animation-delay: 0.5s;
}

/* Interactive Hover Effects */
.modal-button-hover {
  transition: all 0.2s var(--smooth-out);
}

.modal-button-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.modal-button-hover:active {
  transform: translateY(0);
  transition-duration: 0.1s;
}

.modal-close-button-advanced {
  transition: all 0.3s var(--smooth-out);
}

.modal-close-button-advanced:hover {
  transform: rotate(90deg) scale(1.1);
}

/* Critical Action Pulse */
.critical-action {
  animation: attentionPulse 2s infinite;
}

.success-action {
  animation: successPulse 2s infinite;
}

/* Accessibility - Reduced Motion */
@media (prefers-reduced-motion: reduce) {

  .modal-overlay-advanced,
  .modal-overlay-advanced.closing,
  .modal-content-advanced,
  .modal-content-advanced.closing,
  .modal-icon-advanced,
  .modal-title-advanced,
  .modal-text-advanced,
  .modal-buttons-advanced,
  .modal-button-advanced,
  .critical-action,
  .success-action {
    animation: none !important;
    animation-delay: 0s !important;
    opacity: 1 !important;
    transform: none !important;
    transition: opacity 0.2s ease !important;
  }

  .modal-button-hover:hover {
    transform: none;
  }

  .modal-close-button-advanced:hover {
    transform: scale(1.1);
  }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
  @keyframes advancedFadeIn {
    from {
      opacity: 0;
      backdrop-filter: blur(0px);
    }

    to {
      opacity: 1;
      backdrop-filter: blur(10px);
    }
  }
}